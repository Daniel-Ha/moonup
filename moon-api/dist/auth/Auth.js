"use strict";var l=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var O=Object.prototype.hasOwnProperty;var I=(o,a)=>{for(var e in a)l(o,e,{get:a[e],enumerable:!0})},k=(o,a,e,t)=>{if(a&&typeof a=="object"||typeof a=="function")for(let s of C(a))!O.call(o,s)&&s!==e&&l(o,s,{get:()=>a[s],enumerable:!(t=T(a,s))||t.enumerable});return o};var S=o=>k(l({},"__esModule",{value:!0}),o);var A={};I(A,{Auth:()=>y});module.exports=S(A);var h=class{constructor(a={}){this.baseUrl="https://vault-api.usemoon.ai/";this.securityData=null;this.abortControllers=new Map;this.customFetch=(...a)=>fetch(...a);this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"};this.setSecurityData=a=>{this.securityData=a};this.contentFormatters={"application/json":a=>a!==null&&(typeof a=="object"||typeof a=="string")?JSON.stringify(a):a,"text/plain":a=>a!==null&&typeof a!="string"?JSON.stringify(a):a,"multipart/form-data":a=>Object.keys(a||{}).reduce((e,t)=>{let s=a[t];return e.append(t,s instanceof Blob?s:typeof s=="object"&&s!==null?JSON.stringify(s):`${s}`),e},new FormData),"application/x-www-form-urlencoded":a=>this.toQueryString(a)};this.createAbortSignal=a=>{if(this.abortControllers.has(a)){let t=this.abortControllers.get(a);return t?t.signal:void 0}let e=new AbortController;return this.abortControllers.set(a,e),e.signal};this.abortRequest=a=>{let e=this.abortControllers.get(a);e&&(e.abort(),this.abortControllers.delete(a))};this.request=async({body:a,secure:e,path:t,type:s,query:m,format:f,baseUrl:R,cancelToken:n,...g})=>{let P=(typeof e=="boolean"?e:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},u=this.mergeRequestParams(g,P),d=m&&this.toQueryString(m),q=this.contentFormatters[s||"application/json"],c=f||u.format;return this.customFetch(`${R||this.baseUrl||""}${t}${d?`?${d}`:""}`,{...u,headers:{...u.headers||{},...s&&s!=="multipart/form-data"?{"Content-Type":s}:{}},signal:(n?this.createAbortSignal(n):u.signal)||null,body:typeof a>"u"||a===null?null:q(a)}).then(async p=>{let r=p;r.data=null,r.error=null;let b=c?await p[c]().then(i=>(r.ok?r.data=i:r.error=i,r)).catch(i=>(r.error=i,r)):r;if(n&&this.abortControllers.delete(n),!p.ok)throw b;return b})};Object.assign(this,a)}encodeQueryParam(a,e){return`${encodeURIComponent(a)}=${encodeURIComponent(typeof e=="number"?e:`${e}`)}`}addQueryParam(a,e){return this.encodeQueryParam(e,a[e])}addArrayQueryParam(a,e){return a[e].map(s=>this.encodeQueryParam(e,s)).join("&")}toQueryString(a){let e=a||{};return Object.keys(e).filter(s=>typeof e[s]<"u").map(s=>Array.isArray(e[s])?this.addArrayQueryParam(e,s):this.addQueryParam(e,s)).join("&")}addQueryParams(a){let e=this.toQueryString(a);return e?`?${e}`:""}mergeRequestParams(a,e){return{...this.baseApiParams,...a,...e||{},headers:{...this.baseApiParams.headers||{},...a.headers||{},...e&&e.headers||{}}}}};var y=class extends h{constructor(){super(...arguments);this.refreshToken=(e,t={})=>this.request({path:"/auth/refresh-token",method:"POST",body:e,type:"application/json",format:"json",...t});this.profile=(e={})=>this.request({path:"/auth/profile",method:"GET",format:"json",...e});this.moonOauth2=(e,t={})=>this.request({path:"/auth/oauth/openai/oauth",method:"GET",query:e,...t});this.moonOauth2Authorize=(e,t={})=>this.request({path:"/auth/oauth/openai/authorize",method:"POST",body:e,type:"application/json",format:"json",...t});this.moonOauth2Exchange=(e,t={})=>this.request({path:"/auth/oauth/openai/exchange",method:"POST",body:e,type:"application/json",format:"json",...t});this.googleOauth2=(e,t={})=>this.request({path:"/auth/oauth/google",method:"GET",query:e,...t});this.googleOauth2Callback=(e,t={})=>this.request({path:"/auth/oauth/google/callback",method:"POST",body:e,type:"application/json",format:"json",...t});this.googleAltOauth2=(e,t={})=>this.request({path:"/auth/oauth/google-alt",method:"GET",query:e,...t});this.googleAltOauth2Callback=(e,t={})=>this.request({path:"/auth/oauth/google-alt/callback",query:e,method:"GET",...t});this.emailSignup=(e,t={})=>this.request({path:"/auth/email/signup",method:"POST",body:e,type:"application/json",format:"json",...t});this.emailLogin=(e,t={})=>this.request({path:"/auth/email/login",method:"POST",body:e,type:"application/json",format:"json",...t});this.githubOauth2=(e,t={})=>this.request({path:"/auth/oauth/github",method:"GET",query:e,...t});this.githubOauth2Callback=(e,t={})=>this.request({path:"/auth/oauth/github/callback",method:"GET",query:e,...t});this.discordOAuth2=(e,t={})=>this.request({path:"/auth/oauth/discord",method:"GET",query:e,...t});this.discordOAuth2Callback=(e,t={})=>this.request({path:"/auth/oauth/discord/callback",method:"GET",query:e,...t});this.webauthn=(e,t={})=>this.request({path:"/auth/webauthn",method:"POST",body:e,type:"application/json",format:"json",...t});this.webauthnRegister=(e,t={})=>this.request({path:"/auth/webauthn/register",method:"POST",body:e,type:"application/json",format:"json",...t});this.webauthnRegisterVerify=(e,t={})=>this.request({path:"/auth/webauthn/register/verify",method:"POST",body:e,type:"application/json",format:"json",...t});this.webAuthnLogin=(e,t={})=>this.request({path:"/auth/webauthn/login",method:"POST",body:e,type:"application/json",format:"json",...t});this.webauthnLoginVerify=(e,t={})=>this.request({path:"/auth/webauthn/login/verify",method:"POST",body:e,type:"application/json",format:"json",...t});this.resetPassword=(e,t={})=>this.request({path:"/auth/reset-password",method:"POST",body:e,type:"application/json",format:"json",...t});this.resetPasswordVerify=(e,t={})=>this.request({path:"/auth/reset-password/verify",method:"POST",body:e,type:"application/json",format:"json",...t});this.enable2fa=(e,t={})=>this.request({path:"/auth/enable-2fa",method:"POST",body:e,type:"application/json",format:"json",...t});this.verify2fa=(e,t={})=>this.request({path:"/auth/verify-2fa",method:"POST",body:e,type:"application/json",format:"json",...t});this.disable2fa=(e,t={})=>this.request({path:"/auth/disable-2fa",method:"POST",body:e,type:"application/json",format:"json",...t})}createOauth2Client(e,t={}){return this.request({path:"/auth/oauth/openai/create",method:"POST",body:e,type:"application/json",format:"json",...t})}};0&&(module.exports={Auth});
//# sourceMappingURL=Auth.js.map