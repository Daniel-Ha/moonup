"use strict";var m=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var C=Object.prototype.hasOwnProperty;var Q=(a,t)=>{for(var e in t)m(a,e,{get:t[e],enumerable:!0})},A=(a,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of T(t))!C.call(a,s)&&s!==e&&m(a,s,{get:()=>t[s],enumerable:!(r=S(t,s))||r.enumerable});return a};var D=a=>A(m({},"__esModule",{value:!0}),a);var w={};Q(w,{Onramper:()=>c});module.exports=D(w);var p=class{constructor(t={}){this.baseUrl="https://vault-api.usemoon.ai";this.securityData=null;this.abortControllers=new Map;this.customFetch=(...t)=>fetch(...t);this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"};this.setSecurityData=t=>{this.securityData=t};this.contentFormatters={"application/json":t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,"text/plain":t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,"multipart/form-data":t=>Object.keys(t||{}).reduce((e,r)=>{let s=t[r];return e.append(r,s instanceof Blob?s:typeof s=="object"&&s!==null?JSON.stringify(s):`${s}`),e},new FormData),"application/x-www-form-urlencoded":t=>this.toQueryString(t)};this.createAbortSignal=t=>{if(this.abortControllers.has(t)){let r=this.abortControllers.get(t);return r?r.signal:void 0}let e=new AbortController;return this.abortControllers.set(t,e),e.signal};this.abortRequest=t=>{let e=this.abortControllers.get(t);e&&(e.abort(),this.abortControllers.delete(t))};this.request=async({body:t,secure:e,path:r,type:s,query:l,format:f,baseUrl:R,cancelToken:o,...P})=>{let b=(typeof e=="boolean"?e:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},u=this.mergeRequestParams(P,b),d=l&&this.toQueryString(l),q=this.contentFormatters[s||"application/json"],h=f||u.format;return this.customFetch(`${R||this.baseUrl||""}${r}${d?`?${d}`:""}`,{...u,headers:{...u.headers||{},...s&&s!=="multipart/form-data"?{"Content-Type":s}:{}},signal:(o?this.createAbortSignal(o):u.signal)||null,body:typeof t>"u"||t===null?null:q(t)}).then(async y=>{let n=y;n.data=null,n.error=null;let g=h?await y[h]().then(i=>(n.ok?n.data=i:n.error=i,n)).catch(i=>(n.error=i,n)):n;if(o&&this.abortControllers.delete(o),!y.ok)throw g;return g})};Object.assign(this,t)}encodeQueryParam(t,e){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof e=="number"?e:`${e}`)}`}addQueryParam(t,e){return this.encodeQueryParam(e,t[e])}addArrayQueryParam(t,e){return t[e].map(s=>this.encodeQueryParam(e,s)).join("&")}toQueryString(t){let e=t||{};return Object.keys(e).filter(s=>typeof e[s]<"u").map(s=>Array.isArray(e[s])?this.addArrayQueryParam(e,s):this.addQueryParam(e,s)).join("&")}addQueryParams(t){let e=this.toQueryString(t);return e?`?${e}`:""}mergeRequestParams(t,e){return{...this.baseApiParams,...t,...e||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...e&&e.headers||{}}}}};var c=class extends p{constructor(){super(...arguments);this.onRamperGetSupportedCurrencies=(e,r={})=>this.request({path:"/onramper/currencies",method:"GET",query:e,secure:!0,format:"json",...r});this.onRamperGetSupportedPaymentTypes=(e,r={})=>this.request({path:"/onramper/payment-types",method:"GET",query:e,secure:!0,format:"json",...r});this.onRamperGetSupportedPaymentTypesFiat=(e,r={})=>this.request({path:"/onramper/payment-types/fiat",method:"GET",query:e,secure:!0,format:"json",...r});this.onRamperGetSupportedDefaultsAll=(e,r={})=>this.request({path:"/onramper/defaults",method:"GET",query:e,secure:!0,format:"json",...r});this.onRamperGetSupportedAssets=(e,r={})=>this.request({path:"/onramper/assets",method:"GET",query:e,secure:!0,format:"json",...r});this.onRamperGetSupportedOnRampsAll=(e={})=>this.request({path:"/onramper/onramps",method:"GET",secure:!0,format:"json",...e});this.onRamperGetQuotesBuy=(e,r={})=>this.request({path:"/onramper/quotes/buy",method:"GET",query:e,secure:!0,format:"json",...r});this.onRamperGetQuotesSell=(e,r={})=>this.request({path:"/onramper/quotes/sell",method:"GET",query:e,secure:!0,format:"json",...r});this.onRamperCheckout=(e,r,s={})=>this.request({path:`/onramper/fund/$${e}`,method:"POST",body:r,secure:!0,type:"application/json",format:"json",...s})}};0&&(module.exports={Onramper});
//# sourceMappingURL=Onramper.js.map