var y=class{constructor(t={}){this.baseUrl="https://vault-api.usemoon.ai";this.securityData=null;this.abortControllers=new Map;this.customFetch=(...t)=>fetch(...t);this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"};this.setSecurityData=t=>{this.securityData=t};this.contentFormatters={"application/json":t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,"text/plain":t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,"multipart/form-data":t=>Object.keys(t||{}).reduce((e,a)=>{let r=t[a];return e.append(a,r instanceof Blob?r:typeof r=="object"&&r!==null?JSON.stringify(r):`${r}`),e},new FormData),"application/x-www-form-urlencoded":t=>this.toQueryString(t)};this.createAbortSignal=t=>{if(this.abortControllers.has(t)){let a=this.abortControllers.get(t);return a?a.signal:void 0}let e=new AbortController;return this.abortControllers.set(t,e),e.signal};this.abortRequest=t=>{let e=this.abortControllers.get(t);e&&(e.abort(),this.abortControllers.delete(t))};this.request=async({body:t,secure:e,path:a,type:r,query:m,format:P,baseUrl:b,cancelToken:s,...f})=>{let g=(typeof e=="boolean"?e:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},o=this.mergeRequestParams(f,g),p=m&&this.toQueryString(m),R=this.contentFormatters[r||"application/json"],c=P||o.format;return this.customFetch(`${b||this.baseUrl||""}${a}${p?`?${p}`:""}`,{...o,headers:{...o.headers||{},...r&&r!=="multipart/form-data"?{"Content-Type":r}:{}},signal:(s?this.createAbortSignal(s):o.signal)||null,body:typeof t>"u"||t===null?null:R(t)}).then(async u=>{let n=u;n.data=null,n.error=null;let l=c?await u[c]().then(i=>(n.ok?n.data=i:n.error=i,n)).catch(i=>(n.error=i,n)):n;if(s&&this.abortControllers.delete(s),!u.ok)throw l;return l})};Object.assign(this,t)}encodeQueryParam(t,e){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof e=="number"?e:`${e}`)}`}addQueryParam(t,e){return this.encodeQueryParam(e,t[e])}addArrayQueryParam(t,e){return t[e].map(r=>this.encodeQueryParam(e,r)).join("&")}toQueryString(t){let e=t||{};return Object.keys(e).filter(r=>typeof e[r]<"u").map(r=>Array.isArray(e[r])?this.addArrayQueryParam(e,r):this.addQueryParam(e,r)).join("&")}addQueryParams(t){let e=this.toQueryString(t);return e?`?${e}`:""}mergeRequestParams(t,e){return{...this.baseApiParams,...t,...e||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...e&&e.headers||{}}}}};var d=class extends y{constructor(){super(...arguments);this.paymentGetAvailableChains=(e={})=>this.request({path:"/payment/chains",method:"GET",secure:!0,format:"json",...e});this.paymentCreatePaymentIntent=(e,a={})=>this.request({path:"/payment",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...a});this.paymentGetAllPaymentIntents=(e={})=>this.request({path:"/payment",method:"GET",secure:!0,format:"json",...e});this.paymentDeletePaymentIntent=(e,a={})=>this.request({path:`/payment/${e}`,method:"DELETE",secure:!0,format:"json",...a});this.paymentUpdatePaymentIntent=(e,a,r={})=>this.request({path:`/payment/${e}`,method:"PUT",body:a,secure:!0,type:"application/json",format:"json",...r});this.paymentGetPaymentIntent=(e,a={})=>this.request({path:`/payment/${e}`,method:"GET",secure:!0,format:"json",...a});this.moralisWebhook=(e,a,r={})=>this.request({path:`/payment/webhook/${e}`,method:"POST",body:a,secure:!0,type:"application/json",format:"json",...r});this.tatumWebhook=(e,a,r={})=>this.request({path:`/payment/tatum/webhook/${e}`,method:"POST",body:a,secure:!0,type:"application/json",format:"json",...r})}};export{d as Payment};
//# sourceMappingURL=Payment.mjs.map