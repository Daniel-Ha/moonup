var u=class{constructor(e={}){this.baseUrl="https://vault-api.usemoon.ai";this.securityData=null;this.abortControllers=new Map;this.customFetch=(...e)=>fetch(...e);this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"};this.setSecurityData=e=>{this.securityData=e};this.contentFormatters={"application/json":e=>e!==null&&(typeof e=="object"||typeof e=="string")?JSON.stringify(e):e,"text/plain":e=>e!==null&&typeof e!="string"?JSON.stringify(e):e,"multipart/form-data":e=>Object.keys(e||{}).reduce((t,r)=>{let a=e[r];return t.append(r,a instanceof Blob?a:typeof a=="object"&&a!==null?JSON.stringify(a):`${a}`),t},new FormData),"application/x-www-form-urlencoded":e=>this.toQueryString(e)};this.createAbortSignal=e=>{if(this.abortControllers.has(e)){let r=this.abortControllers.get(e);return r?r.signal:void 0}let t=new AbortController;return this.abortControllers.set(e,t),t.signal};this.abortRequest=e=>{let t=this.abortControllers.get(e);t&&(t.abort(),this.abortControllers.delete(e))};this.request=async({body:e,secure:t,path:r,type:a,query:p,format:b,baseUrl:P,cancelToken:s,...f})=>{let g=(typeof t=="boolean"?t:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},n=this.mergeRequestParams(f,g),c=p&&this.toQueryString(p),q=this.contentFormatters[a||"application/json"],l=b||n.format;return this.customFetch(`${P||this.baseUrl||""}${r}${c?`?${c}`:""}`,{...n,headers:{...n.headers||{},...a&&a!=="multipart/form-data"?{"Content-Type":a}:{}},signal:(s?this.createAbortSignal(s):n.signal)||null,body:typeof e>"u"||e===null?null:q(e)}).then(async y=>{let o=y;o.data=null,o.error=null;let m=l?await y[l]().then(i=>(o.ok?o.data=i:o.error=i,o)).catch(i=>(o.error=i,o)):o;if(s&&this.abortControllers.delete(s),!y.ok)throw m;return m})};Object.assign(this,e)}encodeQueryParam(e,t){return`${encodeURIComponent(e)}=${encodeURIComponent(typeof t=="number"?t:`${t}`)}`}addQueryParam(e,t){return this.encodeQueryParam(t,e[t])}addArrayQueryParam(e,t){return e[t].map(a=>this.encodeQueryParam(t,a)).join("&")}toQueryString(e){let t=e||{};return Object.keys(t).filter(a=>typeof t[a]<"u").map(a=>Array.isArray(t[a])?this.addArrayQueryParam(t,a):this.addQueryParam(t,a)).join("&")}addQueryParams(e){let t=this.toQueryString(e);return t?`?${t}`:""}mergeRequestParams(e,t){return{...this.baseApiParams,...e,...t||{},headers:{...this.baseApiParams.headers||{},...e.headers||{},...t&&t.headers||{}}}}};var d=class extends u{constructor(){super(...arguments);this.tokens=(t,r={})=>this.request({path:"/oneinch/tokens",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...r});this.protocols=(t,r={})=>this.request({path:"/oneinch/protocols",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...r});this.quote=(t,r={})=>this.request({path:"/oneinch/quote",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...r});this.swap=(t,r,a={})=>this.request({path:`/oneinch/${t}/swap`,method:"POST",body:r,secure:!0,type:"application/json",format:"json",...a});this.approveSpender=(t,r={})=>this.request({path:"/oneinch/approve-spender",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...r});this.approveCallData=(t,r={})=>this.request({path:"/oneinch/approve-call-data",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...r})}};export{d as Oneinch};
//# sourceMappingURL=Oneinch.mjs.map