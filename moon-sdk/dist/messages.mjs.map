{"version":3,"sources":["../src/messages.ts"],"sourcesContent":["import { EventEmitter } from 'events';\nexport interface MoonMessage {\n  type: string;\n  data: string;\n}\n\nexport interface MoonMessageResponse {\n  type: string;\n  data: string;\n}\nexport enum MoonMessageType {\n  login = 'MOON_LOGIN',\n  logout = 'MOON_LOGOUT',\n}\n\nexport class MoonMessageHandler {\n  EventEmitter: EventEmitter;\n\n  constructor() {\n    this.EventEmitter = new EventEmitter();\n\n    // // Add event listeners for MoonAccount related events\n    // this.EventEmitter.on('updateToken', this.updateToken.bind(this));\n    // this.EventEmitter.on(\n    //   'updateRefreshToken',\n    //   this.updateRefreshToken.bind(this)\n    // );\n  }\n\n  emit(type: string, data: string) {\n    this.EventEmitter.emit(type, data);\n  }\n\n  async handle(message: MoonMessage): Promise<MoonMessageResponse> {\n    this.EventEmitter.emit(message.type, message.data);\n    return {\n      type: message.type,\n      data: message.data,\n    };\n  }\n\n  //   // Function to handle 'updateToken' event\n  //   updateToken(newToken: string) {\n  //     this.moonAccount.token = newToken;\n  //   }\n\n  //   // Function to handle 'updateRefreshToken' event\n  //   updateRefreshToken(newRefreshToken: string) {\n  //     this.moonAccount.refreshToken = newRefreshToken;\n  //   }\n}\n"],"mappings":"AAAA,OAAS,gBAAAA,MAAoB,SAUtB,IAAKC,OACVA,EAAA,MAAQ,aACRA,EAAA,OAAS,cAFCA,OAAA,IAKCC,EAAN,KAAyB,CAG9B,aAAc,CACZ,KAAK,aAAe,IAAIF,CAQ1B,CAEA,KAAKG,EAAcC,EAAc,CAC/B,KAAK,aAAa,KAAKD,EAAMC,CAAI,CACnC,CAEA,MAAM,OAAOC,EAAoD,CAC/D,YAAK,aAAa,KAAKA,EAAQ,KAAMA,EAAQ,IAAI,EAC1C,CACL,KAAMA,EAAQ,KACd,KAAMA,EAAQ,IAChB,CACF,CAWF","names":["EventEmitter","MoonMessageType","MoonMessageHandler","type","data","message"]}